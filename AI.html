<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Roblox Script AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #0a0a12 0%, #1a1a2e 100%);
      color: white;
      font-family: 'Courier New', monospace;
    }
    .glow {
      box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
    }
    .gradient-text {
      background: linear-gradient(90deg, #00ff00, #00ccff);
      -webkit-background-clip: text;
      color: transparent;
    }
    .scrollbar::-webkit-scrollbar {
      width: 8px;
    }
    .scrollbar::-webkit-scrollbar-thumb {
      background: #00ff00;
      border-radius: 4px;
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
  <div class="w-full max-w-4xl bg-gray-900 p-6 rounded-xl glow border-2 border-green-500">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold gradient-text"><i class="fas fa-robot mr-2"></i>Roblox Script AI</h1>
      <div class="flex space-x-2">
        <button id="generateBtn" class="px-6 py-3 bg-gradient-to-r from-green-500 to-teal-400 hover:from-green-600 hover:to-teal-500 text-black font-bold rounded-lg flex items-center">
          <i class="fas fa-magic mr-2"></i> Generate Script
        </button>
      </div>
    </div>

    <div class="mb-4">
      <label class="block mb-2 text-sm font-semibold text-green-300"><i class="fas fa-terminal mr-1"></i>Enter Hack Request:</label>
      <textarea id="promptInput" rows="3" class="w-full p-3 bg-gray-800 border-2 border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-green-500" placeholder="e.g. Fly hack for Brookhaven"></textarea>
    </div>

    <div id="loading" class="mt-4 text-center hidden"><div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500"></div><p class="mt-2 text-green-400">Generating your script...</p></div>

    <!-- Lua Output -->
    <div class="mt-6">
      <div class="flex justify-between items-center mb-2">
        <h2 class="text-xl font-bold text-green-400"><i class="fas fa-code mr-2"></i>Lua Script <span class="text-xs ml-1 text-gray-400">("lua")</span></h2>
        <button id="copyLuaBtn" class="px-3 py-1 bg-gray-700 hover:bg-green-600 rounded text-sm"><i class="fas fa-copy mr-1"></i>Copy Lua</button>
      </div>
      <pre id="luaOutput" class="bg-gray-800 p-4 rounded-lg h-60 overflow-y-auto whitespace-pre-wrap text-sm scrollbar">Your Lua script will appear here...</pre>
    </div>

    <!-- JS/Other Output -->
    <div class="mt-6">
      <div class="flex justify-between items-center mb-2">
        <h2 class="text-xl font-bold text-yellow-400"><i class="fas fa-code-branch mr-2"></i>Other Script Output</h2>
        <button id="copyOtherBtn" class="px-3 py-1 bg-gray-700 hover:bg-yellow-500 text-black rounded text-sm"><i class="fas fa-copy mr-1"></i>Copy</button>
      </div>
      <pre id="otherOutput" class="bg-gray-800 p-4 rounded-lg h-40 overflow-y-auto whitespace-pre-wrap text-sm scrollbar">Non-Lua content (like JS) appears here...</pre>
    </div>

    <div class="mt-6 pt-4 border-t border-gray-700 text-center text-xs text-gray-500">
      <p>Use scripts responsibly. We aren’t liable for bans or consequences.</p>
      <p class="mt-1">© 2025 Roblox Script AI | Enhanced Edition</p>
    </div>
  </div>

  <script>
    const OPENAI_KEY = "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";

    const genBtn = document.getElementById("generateBtn");
    const promptInput = document.getElementById("promptInput");
    const loading = document.getElementById("loading");
    const luaOutput = document.getElementById("luaOutput");
    const otherOutput = document.getElementById("otherOutput");
    const copyLuaBtn = document.getElementById("copyLuaBtn");
    const copyOtherBtn = document.getElementById("copyOtherBtn");

    genBtn.onclick = async () => {
      const prompt = promptInput.value.trim();
      if (!prompt) return alert("Please enter a prompt.");

      luaOutput.textContent = "";
      otherOutput.textContent = "";
      loading.classList.remove("hidden");
      genBtn.disabled = true;

      try {
        const res = await fetch("https://api.openai.com/v1/chat/completions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${OPENAI_KEY}`
          },
          body: JSON.stringify({
            model: "gpt-4o",
            max_tokens: 4096,
            messages: [{
              role: "user",
              content: `make roblox lua script only. no comments, no explanation, no GUI, no "--", no html, just pure raw Lua code (advanced): ${prompt}`
            }]
          })
        });

        const json = await res.json();
        let code = "";

        if (json.choices?.[0]?.message?.content) {
          code = json.choices[0].message.content.trim();
        } else if (json.error) {
          code = "❌ API Error: " + json.error.message;
        } else {
          code = "❌ Unknown error or empty response.";
        }

        const luaKeywords = ["function", "game", "workspace", "CFrame", "Vector3", "Enum"];
        const isLua = luaKeywords.some(k => code.includes(k));
        if (isLua) {
          luaOutput.textContent = code;
        } else {
          otherOutput.textContent = code;
        }

      } catch (err) {
        luaOutput.textContent = "❌ Network or API error: " + err.message;
      } finally {
        loading.classList.add("hidden");
        genBtn.disabled = false;
      }
    };

    copyLuaBtn.onclick = () => {
      navigator.clipboard.writeText(luaOutput.textContent).then(() => {
        copyLuaBtn.textContent = "Copied!";
        setTimeout(() => copyLuaBtn.innerHTML = '<i class="fas fa-copy mr-1"></i>Copy Lua', 2000);
      });
    };
    copyOtherBtn.onclick = () => {
      navigator.clipboard.writeText(otherOutput.textContent).then(() => {
        copyOtherBtn.textContent = "Copied!";
        setTimeout(() => copyOtherBtn.innerHTML = '<i class="fas fa-copy mr-1"></i>Copy', 2000);
      });
    };
  </script>
</body>
</html>
